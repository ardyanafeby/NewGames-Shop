{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>{{ items.name }} - NewGames Shop</title>
{% endblock meta %}

{% block content %}
<div class="bg-gray-50 w-full min-h-screen">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Back Navigation -->
    <div class="mb-6">
      <a href="{% url 'main:show_main' %}" 
         class="text-blue-600 hover:text-blue-800 font-semibold transition-colors">
        ‚Üê Back to Products
      </a>
    </div>

    <!-- Article -->
    <article class="bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">

      <!-- Header -->
      <div class="p-6 sm:p-8">
        <div class="flex flex-wrap items-center gap-2 mb-4">

          <!-- Category -->
          <span class="inline-flex items-center px-3 py-1 rounded-md text-xs font-semibold bg-blue-600 text-white shadow-sm">
            {{ items.get_category_display }}
          </span>

          {% if items.is_featured %}
          <span class="inline-flex items-center px-3 py-1 rounded-md text-xs font-semibold bg-lime-100 text-lime-800 shadow-sm">
            Featured
          </span>
          {% endif %}

          {% if items.is_on_sale %}
          <span class="inline-flex items-center px-3 py-1 rounded-md text-xs font-semibold bg-orange-100 text-orange-700 shadow-sm">
            SALE
          </span>
          {% endif %}
        </div>

        <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 leading-tight mb-3">
          {{ items.name }}
        </h1>

        <div class="flex flex-wrap items-center text-sm text-gray-500 gap-4">
          <time datetime="{{ items.created_at|date:'c' }}">
            {{ items.created_at|date:"M j, Y g:i A" }}
          </time>
        </div>
      </div>

      <!-- Featured Image -->
      {% if items.thumbnail %}
      <div class="px-6 sm:px-8">
        <img src="{{ items.thumbnail }}" 
             alt="{{ items.name }}" 
             class="w-full h-64 sm:h-80 lg:h-96 object-cover rounded-xl border border-gray-100 shadow-sm">
      </div>
      {% endif %}

      <!-- Content -->
      <div class="p-6 sm:p-8">
        <div class="prose max-w-none">
          <div class="text-gray-700 leading-relaxed whitespace-pre-line text-base sm:text-lg">
            {{ items.description }}
          </div>
        </div>
      </div>

      <!-- Price & Seller -->
      <div class="border-t border-gray-100 bg-gradient-to-r from-blue-600 to-orange-500 p-6 sm:p-8 text-white flex flex-col sm:flex-row items-center justify-between rounded-b-2xl">
        <div class="mb-4 sm:mb-0">
          <div class="text-2xl font-bold">Rp {{ items.price|floatformat:0 }}</div>
          {% if items.is_on_sale %}
          <p class="text-sm opacity-90">üî• Special Offer!</p>
          {% endif %}
        </div>

        <div class="text-right">
          {% if items.user %}
            <p class="font-semibold text-lg">Seller: {{ items.user.username }}</p>
          {% else %}
            <p class="font-semibold text-lg">Seller: Anonymous</p>
          {% endif %}
          <p class="text-sm opacity-90">Trusted Seller ‚úÖ</p>
        </div>
      </div>

    </article>
  </div>
</div>
{% endblock content %}
