<nav class="fixed top-0 left-0 w-full bg-gradient-to-r from-blue-600 via-blue-500 to-orange-500 shadow-md z-50 transition-all duration-300">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      
      <!-- Logo -->
      <div class="flex items-center space-x-2">
        <h1 class="text-xl font-extrabold text-white tracking-tight">
          <span class="text-lime-300">NewGames</span> Shop
        </h1>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-6">
        <a href="/" class="text-white/90 hover:text-white font-semibold transition-all hover:scale-105">Home</a>
        <a href="{% url 'main:create_items' %}" class="text-white/90 hover:text-white font-semibold transition-all hover:scale-105">Create Product</a>

        <!-- Dropdown for Desktop -->
        <div class="relative group">
          <button class="text-white/90 hover:text-lime-300 font-semibold transition-all duration-200">
            Category â–¼
          </button>
          <div class="absolute hidden group-hover:block bg-white shadow-lg rounded-md mt-2 py-2 min-w-[180px]">
            <a href="{% url 'main:show_main' %}" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600">Fashion Olahraga</a>
            <a href="{% url 'main:show_main' %}" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600">Peralatan Olahraga</a>
            <a href="{% url 'main:show_main' %}" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600">Suplemen Olahraga</a>
            <a href="{% url 'main:show_main' %}" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600">Bola</a>
          </div>
        </div>
      </div>

      <!-- Desktop User -->
      <div class="hidden md:flex items-center space-x-5">
        {% if user.is_authenticated %}
          <div class="text-right text-white">
            <p class="text-sm font-medium">{{ name|default:user.username }}</p>
          </div>
          <a href="{% url 'main:logout' %}" class="text-white bg-red-600 hover:bg-red-700 px-4 py-2 rounded-md font-semibold shadow-sm transition-all duration-200">
            Logout
          </a>
        {% else %}
          <a href="{% url 'main:login' %}" class="text-white/90 hover:text-white font-semibold">Login</a>
          <a href="{% url 'main:register' %}" class="bg-lime-400 hover:bg-lime-300 text-gray-900 px-4 py-2 rounded-md font-semibold shadow-md">Register</a>
        {% endif %}
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center">
        <button class="mobile-menu-button p-2 text-white hover:text-lime-300 transition-colors">
          <div class="w-6 h-6 flex flex-col justify-center items-center space-y-1">
            <span class="bg-current block h-0.5 w-6 rounded"></span>
            <span class="bg-current block h-0.5 w-6 rounded"></span>
            <span class="bg-current block h-0.5 w-6 rounded"></span>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu hidden md:hidden bg-white border-t border-gray-200">
    <div class="px-6 py-4 space-y-4">
      
      <!-- Main Menu Links -->
      <div class="space-y-2">
        <a href="/" class="block text-gray-700 hover:text-blue-600 font-semibold py-2">Home</a>
        <a href="{% url 'main:create_items' %}" class="block text-gray-700 hover:text-blue-600 font-semibold py-2">Create Product</a>

        <!-- Kategori Toggle -->
        <button id="category-toggle" class="w-full flex justify-between items-center text-gray-700 hover:text-blue-600 font-semibold py-2 focus:outline-none">
          Category
          <svg id="category-arrow" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
          </svg>
        </button>
        
        <!-- Kategori Submenu -->
        <div id="category-menu" class="hidden pl-4 border-l border-gray-200 ml-2 space-y-2 transition-all">
          <a href="{% url 'main:show_main' %}" class="block text-gray-600 hover:text-orange-500 py-1">Fashion Olahraga</a>
          <a href="{% url 'main:show_main' %}" class="block text-gray-600 hover:text-orange-500 py-1">Peralatan Olahraga</a>
          <a href="{% url 'main:show_main' %}" class="block text-gray-600 hover:text-orange-500 py-1">Suplemen Olahraga</a>
          <a href="{% url 'main:show_main' %}" class="block text-gray-600 hover:text-orange-500 py-1">Bola</a>
        </div>
      </div>

      <!-- User Section -->
      <div class="border-t border-gray-200 pt-4">
        {% if user.is_authenticated %}
          <div class="mb-3 font-semibold text-gray-800">{{ name|default:user.username }}</div>
          <a href="{% url 'main:logout' %}" class="block bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md text-center transition-all">Logout</a>
        {% else %}
          <a href="{% url 'main:login' %}" class="block text-blue-600 hover:text-orange-500 font-semibold py-2">Login</a>
          <a href="{% url 'main:register' %}" class="block bg-gradient-to-r from-blue-600 to-orange-500 text-white font-semibold py-2 px-4 rounded-md text-center shadow-md hover:shadow-lg transition-all">Register</a>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const menuBtn = document.querySelector(".mobile-menu-button");
    const mobileMenu = document.querySelector(".mobile-menu");
    const catBtn = document.querySelector("#category-toggle");
    const catMenu = document.querySelector("#category-menu");
    const catArrow = document.querySelector("#category-arrow");

    menuBtn.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    catBtn.addEventListener("click", () => {
      catMenu.classList.toggle("hidden");
      catArrow.classList.toggle("rotate-180"); // animasi panah
    });
  </script>
</nav>
